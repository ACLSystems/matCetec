<div class="main-content">
	<div *ngIf="loading" class="text-center">
		<app-loading-spinner></app-loading-spinner>
	</div>

<div *ngIf="!loading" class="container">
	<div *ngIf="identity">
		<div class="card">
			<div class="card-header">
				<h2 class="text-center text-primary"><i class="fas fa-graduation-cap"></i> Mis cursos</h2>
			</div>
			<div class="card-body">
				<div id="accordion" role="tablist">
					<div class="card-collapse">
						<div class="card-header" role="tab" id="active">
							<h4 class="mb-0">
								<a
									data-toggle="collapse"
									href="#collapseActive"
									aria-expanded="true"
									aria-controls="collapseActive"
									class="collapsed text-primary"
									>
									Cursos activos
									<span class="badge badge-primary">
										{{cursoslist?.length}}
									</span>
									<i class="material-icons">keyboard_arrow_down</i>
								</a>
							</h4>
						</div>
						<div
							id="collapseActive"
							class="collapse"
							role="tabpanel"
							aria-labelledby="active"
							data-parent="#accordion"
							style=""
							>
							<div class="card-body">
								<div class="card">
									<div class="card-header card-header-icon card-header-primary">
										<div class="card-icon">
											<i class="material-icons">assignment</i>
										</div>
										<h4 class="card-title">
											Mis cursos activos
										</h4>
									</div>
									<div class="card-body">
										<div class="table-responsive" *ngIf="cursoslist.length > 0">
											<table class="table">
												<thead class="text-primary">
													<tr>
														<th></th>
														<th>Grupo</th>
														<th>Código</th>
														<th>Instructor</th>
														<th></th>
													</tr>
												</thead>
												<tbody>
													<tr *ngFor="let crs of cursoslist">
														<td>
															<img
																[src]="crs.imagen"
																alt="{{crs.curso.code}}"
																width="85px">
														</td>
														<td>
															{{crs.curso.name}}
														</td>
														<td>
															{{crs.curso.code}}
														</td>
														<td>
															{{crs.curso.instructor}}
														</td>
														<td>
															<button mat-raised-button type="button"
																class="btn btn-success btn-link "
																(click)="getMyCourse(crs.curso.course,
																	crs.curso.groupid,
																	crs.curso.courseid,
																	crs.curso.lastSeenBlock,
																	crs.curso.firstBlock)"
															>
																<i class="material-icons">play_circle_filled</i>
															</button>
														</td>
													</tr>
												</tbody>
											</table>
										</div>
										<div class="container" *ngIf="cursoslist.length == 0">
											No tienes cursos activos asignados
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="card-collapse">
						<div class="card-header" role="tab" id="next">
							<h4 class="mb-0">
								<a
									data-toggle="collapse"
									href="#collapseNext"
									aria-expanded="true"
									aria-controls="collapseNext"
									class="collapsed text-info"
									>
									Próximos cursos
									<span class="badge badge-info">
										{{cursosnext?.length}}
									</span>
									<i class="material-icons">keyboard_arrow_down</i>
								</a>
							</h4>
						</div>
						<div
							id="collapseNext"
							class="collapse"
							role="tabpanel"
							aria-labelledby="next"
							data-parent="#accordion"
							style=""
							>
							<div class="card-body">
								<div class="table-responsive" *ngIf="cursosnext.length > 0">
									<table class="table">
										<thead class="text-primary">
											<tr>
												<th></th>
												<th>Grupo</th>
												<th>Código</th>
												<th>Instructor</th>
												<th></th>
											</tr>
										</thead>
										<tbody>
											<tr *ngFor="let crs of cursosnext">
												<td>
													<img
														[src]="crs.imagen"
														alt="{{crs.curso.code}}"
														width="85px">
												</td>
												<td>
													{{crs.curso.name}}
												</td>
												<td>
													{{crs.curso.code}}
												</td>
												<td>
													{{crs.curso.instructor}}
												</td>
												<td>
													<button mat-raised-button type="button"
														class="btn btn-success btn-link "
														(click)="getMyCourse(crs.curso.course,
															crs.curso.groupid,
															crs.curso.courseid,
															crs.curso.lastSeenBlock,
															crs.curso.firstBlock)"
													>
														<i class="material-icons">play_circle_filled</i>
													</button>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
								<div class="container" *ngIf="cursosnext.length == 0">
									No tienes cursos próximos
								</div>
							</div>
						</div>
					</div>
					<div class="card-collapse">
						<div class="card-header" role="tab" id="past">
							<h4 class="mb-0">
								<a
									data-toggle="collapse"
									href="#collapsePast"
									aria-expanded="true"
									aria-controls="collapsePast"
									class="collapsed text-secondary"
									>
									Cursos finalizados
									<span class="badge badge-secondary">
										{{cursosinactive?.length}}
									</span>
									<i class="material-icons">keyboard_arrow_down</i>
								</a>
							</h4>
						</div>
						<div
							id="collapsePast"
							class="collapse"
							role="tabpanel"
							aria-labelledby="next"
							data-parent="#accordion"
							style=""
							>
							<div class="card-body">
								<div class="table-responsive" *ngIf="cursosinactive.length > 0">
									<table class="table">
										<thead class="text-primary">
											<tr>
												<th></th>
												<th>Grupo</th>
												<th>Código</th>
												<th>Instructor</th>
												<th></th>
											</tr>
										</thead>
										<tbody>
											<tr *ngFor="let crs of cursosinactive">
												<td>
													<img
														[src]="crs.imagen"
														alt="{{crs.curso.code}}"
														width="85px">
												</td>
												<td>
													{{crs.curso.name}}
												</td>
												<td>
													{{crs.curso.code}}
												</td>
												<td>
													{{crs.curso.instructor}}
												</td>
												<td>
													<button mat-raised-button type="button"
														class="btn btn-success btn-link"
														(click)="getMyCourse(crs.curso.course,
															crs.curso.groupid,
															crs.curso.courseid,
															crs.curso.lastSeenBlock,
															crs.curso.firstBlock)"
													>
														<i class="material-icons">play_circle_filled</i>
													</button>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
								<div class="container" *ngIf="cursosinactive.length == 0">
									No tienes cursos finalizados
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

</div>
